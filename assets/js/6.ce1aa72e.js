(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{166:function(e,t,r){"use strict";r.r(t);var n=r(0),a=Object(n.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),r("p",[r("em",[e._v("安装")]),e._v(" "),r("a",{attrs:{href:"http://openjdk.java.net/install/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^1"),r("OutboundLink")],1)]),e._v(" "),e._m(4),e._m(5),e._v(" "),r("p",[r("em",[e._v("安装")]),e._v(" "),r("a",{attrs:{href:"https://dev.mysql.com/doc/mysql-apt-repo-quick-guide/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^2"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"https://dev.mysql.com/downloads/repo/apt/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^3"),r("OutboundLink")],1)]),e._v(" "),e._m(6),e._m(7),e._v(" "),e._m(8),e._m(9),e._v(" "),e._m(10),e._m(11),e._v(" "),e._m(12),e._v(" "),r("p",[r("em",[e._v("从Ubuntu软件仓库安装")]),e._v(" "),r("a",{attrs:{href:"https://launchpad.net/ubuntu/xenial/+package/zookeeper",target:"_blank",rel:"noopener noreferrer"}},[e._v("^4"),r("OutboundLink")],1)]),e._v(" "),e._m(13),r("p",[r("em",[e._v("从zookeeper官网下载（推荐此方式，可使用最新稳定版）")]),e._v(" "),r("a",{attrs:{href:"http://zookeeper.apache.org/doc/r3.4.10/zookeeperStarted.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^5"),r("OutboundLink")],1)]),e._v(" "),e._m(14),e._m(15),e._v(" "),r("p",[r("em",[e._v("从Ubuntu软件仓库安装")]),e._v(" "),r("a",{attrs:{href:"https://launchpad.net/ubuntu/xenial/+package/redis-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("^6"),r("OutboundLink")],1)]),e._v(" "),e._m(16),r("p",[r("em",[e._v("从redis官网下载（推荐此方式，可使用最新稳定版）")]),e._v(" "),r("a",{attrs:{href:"https://redis.io/download",target:"_blank",rel:"noopener noreferrer"}},[e._v("^7"),r("OutboundLink")],1)]),e._v(" "),e._m(17),r("p",[r("em",[e._v("配置")]),e._v(" "),r("a",{attrs:{href:"https://redis.io/commands/auth",target:"_blank",rel:"noopener noreferrer"}},[e._v("^redis_commands_auth"),r("OutboundLink")],1)]),e._v(" "),e._m(18),e._m(19),e._v(" "),r("p",[r("em",[e._v("安装")]),e._v(" "),r("a",{attrs:{href:"https://docs.mongodb.com/v3.2/tutorial/install-mongodb-on-ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^8"),r("OutboundLink")],1)]),e._v(" "),e._m(20),r("p",[r("em",[e._v("配置")]),e._v(" "),r("a",{attrs:{href:"https://docs.mongodb.com/v3.2/reference/configuration-options/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^9"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"https://docs.mongodb.com/v3.2/tutorial/enable-authentication/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^10"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"https://docs.mongodb.com/v3.2/core/authorization/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^11"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"https://docs.mongodb.com/v3.2/core/security-built-in-roles/",target:"_blank",rel:"noopener noreferrer"}},[e._v("^12"),r("OutboundLink")],1)]),e._v(" "),e._m(21),e._v(" "),e._m(22),e._m(23),e._v(" "),r("p",[r("em",[e._v("安装")]),e._v(" "),r("a",{attrs:{href:"http://www.rabbitmq.com/download.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^13"),r("OutboundLink")],1)]),e._v(" "),r("ul",[r("li",[e._v("使用PackageCloud APT Repository进行安装 "),r("a",{attrs:{href:"https://packagecloud.io/rabbitmq/rabbitmq-server/install#bash-deb",target:"_blank",rel:"noopener noreferrer"}},[e._v("^14"),r("OutboundLink")],1)])]),e._v(" "),e._m(24),r("ul",[r("li",[e._v("使用RabbitMQ APT Repository进行安装 "),r("a",{attrs:{href:"http://www.rabbitmq.com/install-debian.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^15"),r("OutboundLink")],1)])]),e._v(" "),e._m(25),r("p",[r("em",[e._v("配置")]),e._v(" "),r("a",{attrs:{href:"http://www.rabbitmq.com/configure.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^16"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"http://www.rabbitmq.com/relocate.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^17"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"http://www.rabbitmq.com/access-control.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^18"),r("OutboundLink")],1),e._v(" "),r("a",{attrs:{href:"http://www.rabbitmq.com/man/rabbitmqctl.1.man.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("^19"),r("OutboundLink")],1)]),e._v(" "),r("ul",[r("li",[e._v("配置所在路径：在/var/log/rabbitmq/rabbit@{计算机名}.log查看；"),r("br"),e._v("\n默认情况rabbitmq.config、rabbitmq-env.conf在目录/etc/rabbitmq/中，如果文件不存在可自行创建，\nrabbitmq.config配置示例：/usr/share/doc/rabbitmq-server/rabbitmq.config.example.gz或者访问"),r("a",{attrs:{href:"https://github.com/rabbitmq/rabbitmq-server/blob/stable/docs/rabbitmq.config.example",target:"_blank",rel:"noopener noreferrer"}},[e._v("rabbitmq.config.example"),r("OutboundLink")],1),e._v("，\n也可通过设置系统环境变量RABBITMQ_CONFIG_FILE、RABBITMQ_CONF_ENV_FILE指定具体路径；"),r("br"),e._v("\n修改完成后须要重启rabbimq-server服务；"),r("br"),e._v("\n默认配置如下，注意RABBITMQ_CONFIG_FILE配置路径不用添加.config后缀，Erlang运行时会自动追加：")])]),e._v(" "),e._m(26),r("ul",[e._m(27),e._v(" "),r("li",[r("p",[r("a",{attrs:{href:"http://www.rabbitmq.com/management.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用Management Plugin"),r("OutboundLink")],1),e._v("，执行"),r("code",[e._v("sudo rabbitmq-plugins enable rabbitmq_management")]),e._v("启用成功后可访问"),r("a",{attrs:{href:"http://localhost:15672/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web UI"),r("OutboundLink")],1),e._v("进行管理")])]),e._v(" "),e._m(28)]),e._v(" "),e._m(29)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"关于本文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关于本文","aria-hidden":"true"}},[this._v("#")]),this._v(" 关于本文")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("写作目标：作为在linux下安装JDK、MySQL、Zookeeper、Redis、MongoDB、RabbitMQ等开发组件的快速参考指南")]),this._v(" "),t("li",[this._v("Linux版本：Linux Mint 18.2 Sonya（基于Ubuntu 16.04 Xenial）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"实战记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实战记录","aria-hidden":"true"}},[this._v("#")]),this._v(" 实战记录")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"java-openjdk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-openjdk","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("JAVA OpenJDK")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("sudo apt install openjdk-8-jdk\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("MySQL")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("wget https://dev.mysql.com/get/mysql-apt-config_0.8.6-1_all.deb\ndpkg -i mysql-apt-config_0.8.6-1_all.deb\napt update\napt install mysql-server\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("配置")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("vi /etc/mysql/conf.d/mysql.cnf\n[mysql]\ndefault-character-set=utf8\n\nvi /etc/mysql/mysql.conf.d/mysqld.cnf\n[mysqld]\n# 注释如下配置以允许远程访问\n# bind-address  = 127.0.0.1\ncharacter-set-server=utf8\ndefault-time-zone='+8:00'\n\n# 重启服务\nsudo service mysql restart\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("常用命令")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# 登录\nmysql -uroot -p\n\n# 创建用户、数据库\ncreate user 'test'@'%' identified by '123456';\ncreate database test;\ngrant all on test.* to 'test'@'%';\nflush privileges;\n\n# 重置root密码\nsudo service mysql stop\nsudo mkdir -p /var/run/mysqld\nsudo chown mysql:adm /var/run/mysqld\nsudo nohup mysqld_safe --skip-grant-tables --skip-networking &\n#进入mysql shell后用下面修改密码的方式更改root密码\nmysql\nupdate mysql.user set authentication_string=password('123456') where user='root' and host = 'localhost';\n#重启服务\nmysqladmin shutdown\nsudo service mysql start\n\n# 修改密码\n#方式一 (https://dev.mysql.com/doc/refman/5.7/en/password-hashing.html)\nset password for 'root'@'localhost'=password('123456');\nflush privileges;\n#方式二\nupdate mysql.user set authentication_string=password('123456') where user='root' and host = 'localhost';\nflush privileges;\n\n# 修改数据库字符集\nalter database test character set utf8;\n\n# 查看mysql字符集默认配置\nshow variables like '%character%';\n\n# 复制数据库：将数据库db1复制到数据库db2 （https://dev.mysql.com/doc/refman/5.7/en/mysqldump-copying-database.html）\nmysqldump -uroot -p db1 > dump.sql\nmysqladmin -uroot -p create db2\nmysql -uroot -p db2 < dump.sql\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"zookeeper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zookeeper","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Zookeeper")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),t("p",[this._v("启动前必须先安装好"),t("a",{attrs:{href:"#java-openjdk"}},[this._v("JDK")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("sudo apt install zookeeperd\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("#切换到root用户\nsu -\ncd /usr/local/share\nwget http://mirrors.aliyun.com/apache/zookeeper/zookeeper-3.4.10/zookeeper-3.4.10.tar.gz\ntar xzf zookeeper-3.4.10.tar.gz\ncd zookeeper-3.4.10\nmv zookeeper-3.4.10 zookeeper\ncp conf/zoo_sample.cfg conf/zoo.cfg\nvi conf/zoo.cfg # 修改 dataDir=/var/lib/zookeeper\n\n# 启动服务\nbin/zkServer.sh start\n\n# 安装为系统自启服务 （https://issues.apache.org/jira/browse/ZOOKEEPER-2095）\nvi /lib/systemd/system/zookeeper.service\n---------------------------------------------------------\n[Unit]\nDescription=Apache Zookeeper\nAfter=network.target\n\n[Service]\nType=forking\nSyslogIdentifier=zookeeper\nRestart=always\nRestartSec=0s\nExecStart=/usr/local/share/zookeeper/bin/zkServer.sh start\nExecStop=/usr/local/share/zookeeper/bin/zkServer.sh stop\nExecReload=/usr/local/share/zookeeper/bin/zkServer.sh restart\n\n[Install]\nWantedBy=multi-user.target\n---------------------------------------------------------\n\nsystemctl start zookeeper\nsystemctl enable zookeeper\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("Redis")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("sudo apt install redis-server\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("#切换到root用户\nsu -\ncd /usr/local/share\nwget http://download.redis.io/releases/redis-3.2.9.tar.gz\ntar xzf redis-3.2.9.tar.gz\ncd redis-3.2.9\nmake\n\n# 启动服务\nnohup src/redis-server redis.conf > redis-server.out &\n\n# 或者安装为系统自启服务 (设置 redis executable path 时指定 src/redis-server 所在的完整路径)\nutils/install_server.sh\n/etc/init.d/redis_6379 start\nupdate-rc.d redis_6379 defaults\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("# 使用场景举例：允许内网环境中其他机器访问时，假设redis安装机器IP为172.18.1.10，可按如下配置\nvi redis.conf\nbind 127.0.0.1 172.18.1.10\n# 使用redis-cli进行访问验证 (redis-cli与redis-server在同一个目录)\nredis-cli -h 172.18.1.10 -p 6379\n\n# 使用场景举例：开启远程访问 （注释掉bind配置项，修改requirepass、masterauth配置项）\n# 务必设置非常复杂、长度很大的密码\nvi redis.conf\n#bind 127.0.0.1\n# 在master实例修改requirepass配置项\nrequirepass Fmg1$7!&bcNp@iY0tW6pEVPP!FZ9vHMd5a%TOJAGI8bO7qqT1%\n# 在slave实例修改masterauth配置项\nmasterauth Fmg1$7!&bcNp@iY0tW6pEVPP!FZ9vHMd5a%TOJAGI8bO7qqT1%\n\n# 验证授权\n# ./redis-cli -a 'Fmg1$7!&bcNp@iY0tW6pEVPP!FZ9vHMd5a%TOJAGI8bO7qqT1%'\n\n# 如果启用密码访问，须要修改/etc/init.d/redis_6379\n$CLIEXEC -p $REDISPORT -a 'Fmg1$7!&bcNp@iY0tW6pEVPP!FZ9vHMd5a%TOJAGI8bO7qqT1%' shutdown\n\n# 修改完配置后注意重启服务\n/etc/init.d/redis_6379 restart\n\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"mongodb"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongodb","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("MongoDB")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927\n# 使用阿里云镜像站，加快下载速度\nsudo echo "deb http://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list\nsudo apt-get update\nsudo apt-get install -y mongodb-org\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("默认配置文件路径是/etc/mongod.conf")]),this._v(" "),t("li",[this._v("如果想为mongos或mongod绑定多个监听的IP地址，可将net.bindIp设置为英文逗号分割的多个IP地址")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('# 使用场景举例：允许内网环境中其他机器访问时，假设mongod安装机器IP为172.18.1.10，可按如下配置\nvi /etc/mongod.conf\nnet:\n  bindIp: 127.0.0.1,172.18.1.10\n\n# 使用场景举例：开启远程访问 （注释net.bindIp配置项，添加security.authorization配置项；创建授权用户）\nvi /etc/mongod.conf\nnet:\n  # bindIp: 127.0.0.1\nsecurity:\n  authorization: enabled\n\nmongo\nuse admin\ndb.createUser(\n  {\n    user: "root",\n    pwd: "123456",\n    roles: [ { role: "root", db: "admin" } ]\n  }\n)\nuse test\ndb.createUser(\n  {\n    user: "test",\n    pwd: "123456",\n    roles: [ { role: "dbOwner", db: "test" } ]\n  }\n)\n\n# 重启服务以使配置生效\nsudo service mongod restart\n\n# 开启授权后的登录举例，特别注意authenticationDatabase参数的使用，它与用户所授权角色对应的数据库有关，root角色拥有所有库的所有操作权限，dbOwner角色只有授权库的所有操作权限\nmongo localhost:27017/test -u "root" -p "123456" --authenticationDatabase "admin"\nmongo localhost:27017/test -u "test" -p "123456" --authenticationDatabase "test"\n\n')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"rabbitmq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("strong",[this._v("RabbitMQ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("curl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.deb.sh | sudo bash\n\nsudo apt-get install rabbitmq-server\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("echo 'deb http://www.rabbitmq.com/debian/ testing main' | sudo tee /etc/apt/sources.list.d/rabbitmq.list\n\nwget -O- https://www.rabbitmq.com/rabbitmq-release-signing-key.asc | sudo apt-key add -\n或者\nwget -O- https://dl.bintray.com/rabbitmq/Keys/rabbitmq-release-signing-key.asc | sudo apt-key add -\n\nsudo apt-get update\nsudo apt-get install rabbitmq-server\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("RABBITMQ_CONFIG_FILE=/etc/rabbitmq/rabbitmq\nRABBITMQ_CONF_ENV_FILE=/etc/rabbitmq/rabbitmq-env.conf\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("默认账号： 用户名密码都是guest"),t("br"),this._v("\n默认只能通过loopback地址(例如localhost)连接guest账号,如果想允许远程访问，须要修改rabbitmq.config(将loopback_users配置项设为[])："),t("code",[this._v("[{rabbit, [{loopback_users, []}]}].")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("p",[this._v("其他常用指令")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v('# 创建新用户，增加权限\nsudo rabbitmqctl add_user test 123456\nsudo rabbitmqctl set_permissions -p / test ".*" ".*" ".*"\nsudo rabbitmqctl set_user_tags test administrator\n# 验证账号\nsudo rabbitmqctl authenticate_user test 123456\n\n# 修改密码 \nsudo rabbitmqctl change_password test 123456\n\n')])])])}],!1,null,null,null);t.default=a.exports}}]);